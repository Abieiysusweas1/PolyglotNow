<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>French T1: Bonjour et Au revoir!</title>
    <link rel="icon" href="../../../../img/icon.png">
    <link rel="stylesheet" href="../../../../css/idiomas.css">
    <link rel="stylesheet" href="../../../../css/menulec.css">
    <link rel="stylesheet" href="../../../../css/preguntas.css">
    <link rel="stylesheet" href="../../../emergente/emergente.css">
    <script src="../../../emergente/emergente.js"></script>
  </head>
  <style>
    .correcta {
      background-color: #4CAF50; /* verde */
      color: white;
    }

    .incorrecta {
      background-color: #f44336; /* rojo */
      color: white;
    }
  </style>
<body>

<div id="pregunta-container" class="pri">
  <div id="pregunta"></div>
  <div id="respuestas">
    <div id="respuesta1" class="lec"></div>
    <div id="respuesta2" class="lec"></div>
    <div id="respuesta3" class="lec"></div>
    <div id="respuesta4" class="lec"></div>
  </div>
</div>
<div id="openPopup" class="next">X</div>
<!-- La ventana emergente -->
<div id="popup" class="overlay">
    <div class="popup-content">
        <h2 style="text-align: center;">Exit the activity</h2>
        <p style="text-align: center;">If you exit, you will have to start again the activity when you enter again.<br><br> Do you want to exit?</p>
        <div class="btns">
            <div id="exitPopup" class="exit">Exit</div>
            <div id="closePopup" class="cont">Continue</div>
        </div>
    </div>
</div>  


<script>
localStorage.setItem("lang", "EN");
localStorage.setItem("idioma", "fra");

const preguntas = [
  {
    pregunta: "How do you say 'Hello' in French?",
    respuestas: ["Bonsoir", "Bonjour", "Merci", "S'il vous plaît"],
    correcta: "Bonjour"
  },
  {
    pregunta: "Which of these phrases is used to say goodbye in French?",
    respuestas: ["Salut", "Merci", "Au revoir", "Bonjour"],
    correcta: "Au revoir"
  },
  {
    pregunta: "What does 'Bon matin' mean?",
    respuestas: ["Good afternoon", "Good evening", "Good morning", "Hello"],
    correcta: "Good morning"
  },
  {
    pregunta: "What is a polite way to get someone's attention in French?",
    respuestas: ["S'il vous plaît", "Bonjour", "Merci", "Salut"],
    correcta: "S'il vous plaît"
  },
  {
    pregunta: "What does 'Enchanté' mean?",
    respuestas: ["Nice to meet you", "Goodbye", "Thanks", "Hello"],
    correcta: "Nice to meet you"
  },
  {
    pregunta: "How do you say 'Thank you' in French?",
    respuestas: ["Merci", "Bonjour", "Bienvenue", "Salut"],
    correcta: "Merci"
  },
  {
    pregunta: "What is a response to 'Merci'?",
    respuestas: ["De rien", "Bonjour", "Enchanté", "Au revoir"],
    correcta: "De rien"
  },
  {
    pregunta: "Which phrase would you use to introduce yourself in French?",
    respuestas: ["Je m'appelle...", "Bonsoir", "Enchanté", "Salut"],
    correcta: "Je m'appelle..."
  },
  {
    pregunta: "What does 'Comment ça va?' mean?",
    respuestas: ["How’s it going?", "How are you?", "Who are you?", "What's your name?"],
    correcta: "How are you?"
  },
  {
    pregunta: "Which of these is an informal greeting in French?",
    respuestas: ["Salut", "Enchanté", "Au revoir", "Merci"],
    correcta: "Salut"
  },
  {
    pregunta: "Which phrase is a nighttime greeting in French?",
    respuestas: ["Bonne nuit", "Bonjour", "Au revoir", "Salut"],
    correcta: "Bonne nuit"
  },
  {
    pregunta: "Which is a way to say 'See you later' in French?",
    respuestas: ["À plus tard", "Bonjour", "Merci", "Enchanté"],
    correcta: "À plus tard"
  },
  {
    pregunta: "What does 'Adieu' mean?",
    respuestas: ["Hello", "Thanks", "Goodbye", "See you next time"],
    correcta: "Goodbye"
  },
  {
    pregunta: "Which of these phrases would you use to say 'See you next time' in French?",
    respuestas: ["À la prochaine", "Bonsoir", "Merci", "Salut"],
    correcta: "À la prochaine"
  },
  {
    pregunta: "What does 'Bienvenue' mean?",
    respuestas: ["Thanks", "You're welcome", "Welcome", "Goodbye"],
    correcta: "Welcome"
  }
];

let preguntasRestantes = [...preguntas];
let preguntaActual = null;

function mostrarPregunta() {
  if (preguntasRestantes.length === 0) {
    document.getElementById("pregunta").textContent = "You have completed all the questions!";
    document.getElementById("respuestas").innerHTML = "";
  }
  const indice = Math.floor(Math.random() * preguntasRestantes.length);
  preguntaActual = preguntasRestantes[indice];

  document.getElementById("pregunta").textContent = preguntaActual.pregunta;
  const respuestasDiv = document.getElementById("respuestas");
  const botones = respuestasDiv.getElementsByTagName("div");

  for (let i = 0; i < botones.length; i++) {
    botones[i].className = "lec";
    botones[i].textContent = preguntaActual.respuestas[i];
    botones[i].onclick = function() {
      verificarRespuesta(this);
    };
  }
  preguntasRestantes.splice(indice,1);
}

function verificarRespuesta(botonSeleccionado) {
  const respuestasDiv = document.getElementById("respuestas");
  const botones = respuestasDiv.getElementsByTagName("div");

  // desactivar más clics
  for (let i = 0; i < botones.length; i++) {
    botones[i].onclick = null;
  }

  if (botonSeleccionado.textContent === preguntaActual.correcta) {
    botonSeleccionado.classList.add("correcta");
  } else {
    botonSeleccionado.classList.add("incorrecta");
    // resaltar la correcta
    for (let i = 0; i < botones.length; i++) {
      if (botones[i].textContent === preguntaActual.correcta) {
        botones[i].classList.add("correcta");
      }
    }
  }

  // mostrar siguiente después de un tiempo
  setTimeout(mostrarPregunta, 1500);
}

/* function verificarRespuesta(respuestaUsuario) {
  if (respuestaUsuario === preguntaActual.correcta) {
    alert("¡Correcto!");
  } else {
    alert("Incorrecto. La respuesta correcta es: " + preguntaActual.correcta);
  }
  mostrarPregunta(); // Muestra la siguiente pregunta
} */

mostrarPregunta(); // Llama a la función para mostrar la primera pregunta
</script>
</body>
</html>